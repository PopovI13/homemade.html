<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Weather Widget</title>
<style>
  body {
    background: #222;
    color: white;
    font-family: sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  #weather {
    text-align: center;
    padding: 2rem;
    background: #444;
    border-radius: 12px;
    width: 250px;
  }
</style>
</head>
<body>
  <div id="weather">
    <h2 id="location">Loading...</h2>
    <p id="temp"></p>
    <p id="desc"></p>
  </div>

  <script>
    const apiKey = 'YOUR_API_KEY_HERE'; // Replace here!
    const loc = document.getElementById('location');
    const temp = document.getElementById('temp');
    const desc = document.getElementById('desc');

    function fetchWeather(lat, lon) {
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;
      fetch(url)
        .then(res => res.json())
        .then(data => {
          if(data.cod !== 200){
            loc.textContent = 'Error loading weather';
            temp.textContent = '';
            desc.textContent = '';
            return;
          }
          loc.textContent = data.name;
          temp.textContent = `${data.main.temp.toFixed(1)} Â°C`;
          desc.textContent = data.weather[0].description;
        })
        .catch(() => {
          loc.textContent = 'Failed to fetch weather';
          temp.textContent = '';
          desc.textContent = '';
        });
    }

    function init() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          fetchWeather(pos.coords.latitude, pos.coords.longitude);
        }, () => {
          // Fallback: New York City coordinates
          fetchWeather(40.7128, -74.0060);
        });
      } else {
        // No geolocation support
        fetchWeather(40.7128, -74.0060);
      }
    }

    init();
  </script>
</body>
</html>

